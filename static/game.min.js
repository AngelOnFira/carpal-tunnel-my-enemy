function setup(){init()}function draw(){spawn(),rect(0,0,700,700);for(var i=0;i<enemies.length;){var t=enemies[i];if(t.update())enemies.splice(i,1);else{i+=1;var s=color(220,10,10);fill(s),noStroke(),rect(int(t.position.x-10),int(t.position.y-10),20,20)}}for(var n=0;n<walls.length;n++){var o=walls[n];s=color(255-(o.health/500*200+40),o.health/500*200+40,0);fill(s),noStroke(),rect(o.position.x,o.position.y,o.dims.x,o.dims.y)}for(n=0;n<towers.length;n++){var e=towers[n];s=color(40,40,220);fill(s),noStroke(),rect(e.position.x,e.position.y,30,30)}s=color(0,0,0);fill(s)}function mousePressed(){}function Enemy(i){var t,s;0==i?(t=random(250,450),s=-20):1==i?(t=620,s=random(250,450)):2==i?(t=random(250,450),s=620):3==i&&(t=-20,s=random(250,450)),this.lane=i,this.position={},this.position.x=t,this.position.y=s}function Wall(i,t,s){this.vert=s,this.position={},this.position.x=i,this.position.y=t,this.health=500,this.dims={},s?(this.dims.x=10,this.dims.y=100,this.position.x-=5,this.position.y-=50):(this.dims.x=100,this.dims.y=10,this.position.x-=50,this.position.y-=5)}function spawn(){var i=random([0,1,2,3]);millis()-lastSpawn>currentSpawnTime&&(enemies.push(new Enemy(i)),lastSpawn=millis())}function init(){var i=createCanvas(700,700),t=(windowWidth-width)/2,s=(windowHeight-height)/2;i.position(t,s),enemies=[],walls=[],towers=[],walls.push(new Wall(350,250,0)),walls.push(new Wall(450,350,1)),walls.push(new Wall(350,450,0)),walls.push(new Wall(250,350,1)),towers.push(new Tower(280,280)),towers.push(new Tower(390,280)),towers.push(new Tower(280,390)),towers.push(new Tower(390,390));millis();currentSpawnTime=200,lastSpawn=millis()}function Tower(i,t,s){this.position={},this.position.x=i,this.position.y=t,this.health=500}Enemy.prototype.update=function(){if(this.move(),this.checkAlive())return 1},Enemy.prototype.move=function(){0==this.lane?this.position.y+=1:1==this.lane?this.position.x-=1:2==this.lane?this.position.y-=1:3==this.lane&&(this.position.x+=1)},Enemy.prototype.checkAlive=function(){if(0==this.lane){if(250<this.position.y)return this.die(),1}else if(1==this.lane){if(this.position.x<450)return this.die(),1}else if(2==this.lane){if(this.position.y<450)return this.die(),1}else if(3==this.lane&&250<this.position.x)return this.die(),1;return 0},Enemy.prototype.die=function(){walls[this.lane].health-=30};